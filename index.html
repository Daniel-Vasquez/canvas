<html>

<head>
	<meta charset="utf-8" />
	<title>Dibujando con canvas</title>
	<style>
		#texto_lineas {
			width: 80px;
		}
	</style>
</head>

<body>
	<h1>Dibujo en canvas</h1>
	<p>
		Cuantas lineas quieres
		<input type="number" id="texto_lineas" />
		<input type="button" value="A darle!" id="botoncito" />
	</p>
	<canvas width="500" height="500" id="dibujito"></canvas>
	<p>Asi queda tu dibujo</p>
	<script>
		var texto = document.getElementById("texto_lineas");
		var boton = document.getElementById("botoncito");
		boton.addEventListener("click", dibujoPorClick);

		var d = document.getElementById("dibujito");
		var ancho = d.width;
		var lienzo = d.getContext("2d");

		function dibujarLinea(color, xinicial, yinicial, xfinal, yfinal) {
			lienzo.beginPath();
			lienzo.strokeStyle = color;
			lienzo.moveTo(xinicial, yinicial);
			lienzo.lineTo(xfinal, yfinal);
			lienzo.stroke();
			lienzo.closePath();
		}

		function dibujoPorClick() {
			lienzo.clearRect(0, 0, d.width, d.height); //Para limpiar el canvas y podamos colocar las líneas sin refrescar el navegador 
														//colocamos al inicio de función dibujoPorClick: lienzo.clearRect(0, 0, d.width, d.height);
			var lineas = parseInt(texto.value);
			var l = 0;
			var yi, xf;
			var colorcito = "#FAA";
			var espacio = ancho / lineas;

			for (l = 0; l < lineas; l++) {
				yi = espacio * l;
				xf = espacio * (l + 1);
				dibujarLinea(colorcito, 0, yi, xf, 500);
				console.log("Linea " + l);
			}
			dibujarLinea("purple", 1, 1, 1, 499);
			dibujarLinea("purple", 1, 499, 499, 499);
		}
		
		dibujarLinea("purple", 1, 1, 1, 499);
		dibujarLinea("purple", 1, 499, 499, 499);

	</script>
</body>

</html>